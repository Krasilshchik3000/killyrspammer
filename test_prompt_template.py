#!/usr/bin/env python3
"""
–¢–µ—Å—Ç —à–∞–±–ª–æ–Ω–Ω–æ–π —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–º–ø—Ç–∞
"""

def test_prompt_assembly():
    print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–º–ø—Ç–∞ –∏–∑ —á–∞—Å—Ç–µ–π")
    
    # –°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ ChatGPT
    analysis = """–ê–ù–ê–õ–ò–ó: –û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–ª–∞ –∏–∑-–∑–∞ –Ω–µ—á–µ—Ç–∫–æ—Å—Ç–∏ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–∞–º–∞.

–£–õ–£–ß–®–ï–ù–ù–´–ï_–ö–†–ò–¢–ï–†–ò–ò: –°—á–∏—Ç–∞–π –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
1. –ë–µ–∑–∞–¥—Ä–µ—Å–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã "–±–µ–∑ –æ–ø—ã—Ç–∞/–≤—ã—Å–æ–∫–∏–π –¥–æ—Ö–æ–¥".
2. –ü—Ä–∏–∑—ã–≤—ã –ø–∏—Å–∞—Ç—å –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –±–æ—Ç–∞ –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –ø–æ –≤–Ω–µ—à–Ω–∏–º —Å—Å—ã–ª–∫–∞–º.
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–¥–µ—á–µ–∫ üíò/üíù —Å –Ω–∞–º—ë–∫–æ–º –Ω–∞ –∏–Ω—Ç–∏–º-—É—Å–ª—É–≥–∏.
4. –ù–µ–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π.
5. –ù–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ç–µ–º–æ–π –æ–±—Å—É–∂–¥–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø–µ.

–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –º–∞–ª–æ –∏–ª–∏ –æ–Ω–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã, –≤—ã–±–∏—Ä–∞–π –í–û–ó–ú–û–ñ–ù–û_–°–ü–ê–ú."""
    
    if "–£–õ–£–ß–®–ï–ù–ù–´–ï_–ö–†–ò–¢–ï–†–ò–ò:" in analysis:
        improved_criteria = analysis.split("–£–õ–£–ß–®–ï–ù–ù–´–ï_–ö–†–ò–¢–ï–†–ò–ò:")[1].strip()
        
        # –°–æ–±–∏—Ä–∞–µ–º –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏
        improved_prompt = f"""–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ —Ç–µ–ª–µ–≥—Ä–∞–º-–≥—Ä—É–ø–ø—ã –∏ –æ—Ç–≤–µ—Ç—å —Å—Ç—Ä–æ–≥–æ –æ–¥–Ω–∏–º –∏–∑ —Ç—Ä—ë—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
–°–ü–ê–ú
–ù–ï_–°–ü–ê–ú
–í–û–ó–ú–û–ñ–ù–û_–°–ü–ê–ú

{improved_criteria}

–°–æ–æ–±—â–µ–Ω–∏–µ: ¬´{{message_text}}¬ª

–û—Ç–≤–µ—Ç:"""
        
        print("‚úÖ –ü—Ä–æ–º–ø—Ç —Å–æ–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:")
        print("=" * 50)
        print(improved_prompt)
        print("=" * 50)
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
        if "{message_text}" in improved_prompt:
            print("‚úÖ –®–∞–±–ª–æ–Ω {message_text} —Å–æ—Ö—Ä–∞–Ω–µ–Ω")
        else:
            print("‚ùå –®–∞–±–ª–æ–Ω {message_text} –ø–æ—Ç–µ—Ä—è–Ω!")
            
        if "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ —Ç–µ–ª–µ–≥—Ä–∞–º-–≥—Ä—É–ø–ø—ã" in improved_prompt:
            print("‚úÖ –°–∏—Å—Ç–µ–º–Ω–æ–µ –Ω–∞—á–∞–ª–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ")
        else:
            print("‚ùå –°–∏—Å—Ç–µ–º–Ω–æ–µ –Ω–∞—á–∞–ª–æ –ø–æ—Ç–µ—Ä—è–Ω–æ!")
            
        if "–û—Ç–≤–µ—Ç:" in improved_prompt:
            print("‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω–µ—Ü —Å–æ—Ö—Ä–∞–Ω–µ–Ω")
        else:
            print("‚ùå –°–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω–µ—Ü –ø–æ—Ç–µ—Ä—è–Ω!")

if __name__ == "__main__":
    test_prompt_assembly()
